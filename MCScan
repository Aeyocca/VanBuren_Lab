11-07-17
Play around with MCScan and MCScanX, just kind of get familiar with them, I think I will follow and online tutorial just to iron everything out first. 
Would like to run a bunch of grass genomes through it to compare / contrast tandem gene duplicates across the grasses, but first:
https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)

Ayoooo fake it til you become it

Installing dependencies for MCScan... I think I will do all this on local first, probably easier than trying to load things onto hpcc for now
"LASTAL. Compile and then move lastal and lastdb on your PATH."
went to link and downloaded last-894 folder, extracted all. Re ran cygwin setup.exe, added under Devel category gcc g++ and gcc core, made sure they were the same version (6.4 something I think), also added make. Needed to add zlib also, just searched for it, found it under lib category I believe. Then was able to run make from last-894 directory, took like a minute, believe it ran.
Next step: move lastal and lastdb on PATH

aeyocca@Larry /cygdrive/c/Users/aeyocca/Downloads/last-894/last-894
$ PATH=/cygdrive/c/Users/aeyocca/Downloads/last-894/last-894/src/lastal
lastal.cc    lastal.exe   lastal.o     lastal.o8    lastal8.exe

aeyocca@Larry /cygdrive/c/Users/aeyocca/Downloads/last-894/last-894
$ PATH=/cygdrive/c/Users/aeyocca/Downloads/last-894/last-894/src/lastal.exe

aeyocca@Larry /cygdrive/c/Users/aeyocca/Downloads/last-894/last-894
$ PATH=/cygdrive/c/Users/aeyocca/Downloads/last-894/last-894/src/lastdb
lastdb.cc    lastdb.exe   lastdb.o     lastdb.o8    lastdb8.exe

aeyocca@Larry /cygdrive/c/Users/aeyocca/Downloads/last-894/last-894
$ PATH=/cygdrive/c/Users/aeyocca/Downloads/last-894/last-894/src/lastdb.exe

Pretty sure I wanted the .exe files, Seems like .cc is the uncomplied file that was compiled using make and .exe I am assuming means its executable

Next: "Optional SCIP. You'll need the executable scip on your PATH. You can also download a copy from here."
Downloaded his file from his github but I dont think it will work, If this all works I think its a good idea to move things out of my downloads folder, might want to start deleting things in there

Lets roll like that scip thing worked.

Follow this tutorial to get python up and running: https://www.davidbaumgold.com/tutorials/set-up-python-windows/
Looks like it works, back to MCScan tutorial
Need to get jcvi package somehow
Got it in /cygdrive/c/Python36/packages/jcvi directory, tried to run and said there was a syntax error. Ill take that as the version of python I'm running doesn't recognize the syntax. The github page was last editied on sept 3 2013, so downloading python 2.7.6 which came out in November 2013, hopefully that works
Installed in /cygdrive/c/Python27 directory... need to remove Python36 paths and replace with Python27

$ PATH=$PATH:/cygdrive/c/Python27
$ PATH=$PATH:/cygdrive/c/Python27/Tools/Scripts
$ python --version
  Python 2.7.6
$ cd /cygdrive/c/Python27
$ mkdir packages
$ cd packages
$ cp -r /cygdrive/c/Python36/packages/jcvi .
$ cd jcvic
$ python -m jcvi.apps.fetch phytozome

Need to find the Bio module, turns out this python version doesn't have pip, hahaha, tried manually installing pip, didn't work
Turns out jcvi was updated about a month ago so go to python version that comes with pip (>=2.7.9)

Lets take 2.7.13
Something not working, try installing python 2.7.14 through cygwin
Add pip 
$ python2 -m ensurepip
$ pip install Biopython
$ python -m jcvi.apps.fetch phytozome

It worked!!!!

Move to /cygdrive/c/Users/aeyocca/Documents/1_MSU/VanBuren.../MSCan directory, copy over jcvi package so it runs
$ python -m jcvi.apps.fetch phytozome Vvinifera,Ppersica

Side notes if I want to move this to hpcc, seems I will need to run >=2.7.9 python version, maybe not any 3 versions though. put jcvi package in same directory where I will run commands from, install Biopython module with pip

11-08-17
Downloading the files in this package used curl in active mode, no idea what that means, that may be the best way to go about things, however it was not working for me, so need to download the files in passive mode by specifying --disable-epsv in the curl command, going to try to fix this in the fetch.py script, pretty hard to find, I think I will just forget about it, will probably save time just manuallly downloading them

Run the python thing, that will spit out the ftp address you need,
$ curl <ftp address> --output <output_name> --disable-epsv
Vvinifera gff3: ftp://ftp.jgi-psf.org/pub/compgen/phytozome/v9.0/Vvinifera/annotation/Vvinifera_145_gene.gff3.gz --output Vvinifera_145_gene.gff3.gz
Vvinifera cds: ftp://ftp.jgi-psf.org/pub/compgen/phytozome/v9.0/Vvinifera/annotation/Vvinifera_145_cds.fa.gz --output Vvinifera_145_cds.fa.gz
Ppersica gff3: ftp://ftp.jgi-psf.org/pub/compgen/phytozome/v9.0/Ppersica/annotation/Ppersica_139_gene.gff3.gz  --output Ppersica_139_gene.gff3.gz
Ppersica cds: ftp://ftp.jgi-psf.org/pub/compgen/phytozome/v9.0/Ppersica/annotation/Ppersica_139_cds.fa.gz --output Ppersica_139_cds.fa.gz

Convert gff to bed: ex python -m jcvi.formats.gff bed --type=mRNA --key=Name Vvinifera_145_gene.gff3.gz -o grape.bed

Next step is pairwise synteny search: need 
$ pip install networkx
$ python -m jcvi.compara.catalog ortholog grape peach

Need to add lastal and lastbd to path
copied lastal.exe and lastdb.exe to /bin directory, added /bin directory to path, then it worked. 
$ pip install scipy
that didn't work, seems I need numpy+mkl wheel file found here: https://www.lfd.uci.edu/~gohlke/pythonlibs/#scipy
but for reasons unknown to me, had to change the file name to numpy-1.13.3+mkl-cp27-none-any.whl for it to work, lets try scipy now that didn't work, lets try file renaming nonsense for scipy, it all downloaded, lets see if it works.
Nope, seems like numpy build didn't work
I think I'm going to cut my losses and make virtual environment on hpcc since clearly something is up with cygwin nonsense
hpcc virtual environment stuff: https://wiki.hpcc.msu.edu/display/hpccdocs/Using+Python+virtualenv+on+the+HPCC
python virtual environment stuff: https://pypi.python.org/pypi/virtualenv

Latest version of python as I'm writing this is 3.6 something I believe, latest for hpcc is 3.5.3 so I think I will roll with that and see if it works, if not, they have some 2.7 versions, the Biopython can only be run on 2.7.2, lets roll with that

Got all these before launching into virtual env. Python is default version, NumPy and SciPy loaded without specifying version:
Currently Loaded Modules:
  1) GNU/4.4.5        5) MATLAB/R2014a    9)  Python/2.7.2      13) MKL/10.3
  2) OpenMPI/1.4.3    6) R/2.15.1         10) Biopython/1.65
  3) TBB/4.1.0        7) Boost/1.47.0     11) SciPy/0.9.0
  4) CMake/2.8.5      8) Stata/15.0.SE    12) NumPy/1.6.1
  
It automatically shifted me to MKL/10.3 from 11 something
Load Biopython too

Took the ?passive=yes thing off of the url in the fetch.py script and ayooo, don't need to manually download files
$ pip install networkx
successful
$ python -m jcvi.compara.catalog ortholog grape peach
lastal and lastdb thing not working


$ virtualenv MCScan
$ source MCScan/bin/activate #launches into virtual environment with those modules loaded previously
Next time can just do source after loading modules instead of virtualenv

Next steps: make mcscan directory (lowercase so don't have to make upper all the time) in 01_VanBuren directory, throw jcvi folder in there, also put lastal/lastdb .exe files (i think that will work) in ~/MCScan/bin/ directory

not recognizing lastal/lastdb, maybe because I built it on cygwin or something, anyway, delete all the lastal files, load unzipped file to hpcc, and use make command.
to compile on hpcc, 
$  make CXXFLAGS=-O3 #add that flag since earlier got the error message cc1plus: error: unrecognized command line option "-std=c++11"

lordy lordy lordy finally looks like that did it..... hmm lastal: I was installed here with multi-threading disabled.
Alright, what I know: compiled lastal with multithreading disabled which is a problem, so I'm going to delete everything and reload the uncompiled version first
Need to compile with a newer compiler, thats the next step, could maybe do that tonight cuz I'm going hommmmeeee.e....
